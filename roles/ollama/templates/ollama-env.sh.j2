#!/bin/bash
# Ollama CLI Environment Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY

# Point CLI to Docker container
export OLLAMA_HOST=http://localhost:{{ ollama_api_port }}

# Optional: Add CLI to PATH if not already there
if [[ ":$PATH:" != *":{{ ollama_cli_path | dirname }}:"* ]]; then
    export PATH="{{ ollama_cli_path | dirname }}:$PATH"
fi

# Useful aliases
alias ollama-logs='docker logs {{ ollama_container_name }}'
alias ollama-restart='docker restart {{ ollama_container_name }}'
alias ollama-status='docker ps | grep {{ ollama_container_name }}'
alias ollama-stats='docker stats {{ ollama_container_name }} --no-stream'

# Function to check if Ollama is ready
ollama_ready() {
    curl -s http://localhost:{{ ollama_api_port }}/api/version >/dev/null 2>&1
    return $?
}
